const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-Dashboard.tsx-L6v4uEnz.js","assets/vendor-react-BNOq7jpD.js","assets/vendor-CLxS_-q2.js","assets/vendor-BqTUOKJh.css","assets/vendor-state-CYpoUhNr.js","assets/vendor-tanstack-COsLTYUz.js","assets/vendor-charts-CFQ85YVe.js","assets/page-Inventory.tsx-ZAERunIe.js","assets/page-Suppliers.tsx-1Gdix_l2.js","assets/page-SupplierDetail.tsx-DG-oUriG.js","assets/vendor-framer-DlQFOBKq.js","assets/page-Marketplace.tsx-Fe8Tw-4L.js","assets/page-finance-CkOQ9tSH.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,R as s,c as n,g as r,h as a,N as i,L as o,O as l,i as c,Q as d,B as p}from"./vendor-react-BNOq7jpD.js";import{_ as m}from"./page-SupplierDetail.tsx-DG-oUriG.js";import{b as h,a as x,s as u}from"./page-Dashboard.tsx-L6v4uEnz.js";import{A as j,m as f}from"./vendor-framer-DlQFOBKq.js";import{b as g}from"./vendor-tanstack-COsLTYUz.js";import"./vendor-CLxS_-q2.js";import"./vendor-state-CYpoUhNr.js";import"./vendor-charts-CFQ85YVe.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const y=e.createContext(void 0),_=({children:s})=>{const[n,r]=e.useState([]),a=e.useCallback(e=>{const t=Math.random().toString(36).slice(2),s=e.timeout??4e3;r(s=>[...s,{id:t,...e}]);s>0&&!("test"===import.meta?.env?.MODE)&&setTimeout(()=>{r(e=>e.filter(e=>e.id!==t))},s)},[]);return t.jsxs(y.Provider,{value:{push:a},children:[s,t.jsx("div",{style:{position:"fixed",top:16,right:16,display:"flex",flexDirection:"column",gap:8,zIndex:1e3},children:n.map(e=>{const s="error"===e.type?"#dc2626":"success"===e.type?"#16a34a":"#334155";return t.jsx("div",{style:{background:s,color:"#fff",padding:"8px 12px",borderRadius:6,minWidth:200,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",fontSize:13},children:e.text},e.id)})})]})};class b extends s.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){}render(){return this.state.error?t.jsx(k,{error:this.state.error,onRetry:()=>this.setState({error:null})}):this.props.children}}function k({error:e,onRetry:s}){const n=h(e=>e.resetLayout);return t.jsxs("div",{style:{padding:24},children:[t.jsx("h2",{style:{marginTop:0},children:"Something went wrong"}),t.jsx("pre",{style:{whiteSpace:"pre-wrap",background:"#f8fafc",padding:12,borderRadius:8,border:"1px solid #e2e8f0"},children:e.message}),t.jsxs("div",{style:{display:"flex",gap:12,marginTop:12},children:[t.jsx("button",{className:"btn-secondary",onClick:()=>{try{n()}catch{}s(),location.reload()},children:"Reset dashboard & Reload"}),t.jsx("button",{onClick:()=>location.reload(),children:"Reload"})]})]})}const v=(()=>{const e="undefined"!=typeof localStorage?localStorage.getItem("theme"):null;return"dark"===e||"light"===e?e:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})(),E=n((e,t)=>({theme:v,setTheme:t=>{e({theme:t}),"undefined"!=typeof document&&document.documentElement.classList.toggle("dark","dark"===t);try{localStorage.setItem("theme",t)}catch{}},toggle:()=>{const e="dark"===t().theme?"light":"dark";t().setTheme(e)}}));"undefined"!=typeof document&&document.documentElement.classList.toggle("dark","dark"===v);const I=n((e,t)=>({open:!1,setOpen:t=>e({open:t}),toggle:()=>e({open:!t().open})}));function S(){const{open:e,setOpen:n}=I(),[r,a]=s.useState(""),[i,o]=s.useState(null),[l,c]=s.useState(!1);return t.jsxs("div",{style:{position:"fixed",right:16,bottom:16,zIndex:50},children:[t.jsx("button",{className:"btn-secondary",onClick:()=>n(!e),children:e?"Close Assistant":"AI Assistant"}),t.jsx(j,{children:e&&t.jsx(f.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},style:{marginTop:8,width:360},children:t.jsxs("div",{className:"card",style:{background:"#fff",padding:12,borderRadius:8},children:[t.jsx("textarea",{value:r,onChange:e=>a(e.target.value),placeholder:"Ask about suppliers, items, POs...",style:{width:"100%",minHeight:80}}),t.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:8},children:t.jsx("button",{onClick:async()=>{c(!0),o(null);try{const e=await x.post("/ai/assist",{q:r});o(e.data.answer||"No answer")}finally{c(!1)}},disabled:l,children:l?"Thinkingâ€¦":"Ask"})}),i&&t.jsx("div",{style:{marginTop:8,fontSize:14},children:i})]})})})]})}const T=s.lazy(()=>m(()=>import("./page-Dashboard.tsx-L6v4uEnz.js").then(e=>e.D),__vite__mapDeps([0,1,2,3,4,5,6]))),w=s.lazy(()=>m(()=>import("./page-Inventory.tsx-ZAERunIe.js"),__vite__mapDeps([7,1,2,3,4,5,0,6]))),D=s.lazy(()=>m(()=>import("./page-Suppliers.tsx-1Gdix_l2.js"),__vite__mapDeps([8,1,2,3,4,5,0,6]))),R=s.lazy(()=>m(()=>import("./page-SupplierDetail.tsx-DG-oUriG.js").then(e=>e.S),__vite__mapDeps([9,1,2,3,4,5,0,6,10]))),A=s.lazy(()=>m(()=>import("./page-Marketplace.tsx-Fe8Tw-4L.js"),__vite__mapDeps([11,1,2,3,4,5,0,6,10]))),L=s.lazy(()=>m(()=>import("./page-finance-CkOQ9tSH.js").then(e=>e.F),__vite__mapDeps([12,1,2,3,4,5,0,6]))),O=s.lazy(()=>m(()=>import("./page-finance-CkOQ9tSH.js").then(e=>e.B),__vite__mapDeps([12,1,2,3,4,5,0,6]))),P=s.lazy(()=>m(()=>import("./page-finance-CkOQ9tSH.js").then(e=>e.I),__vite__mapDeps([12,1,2,3,4,5,0,6]))),z=s.lazy(()=>m(()=>import("./page-finance-CkOQ9tSH.js").then(e=>e.a),__vite__mapDeps([12,1,2,3,4,5,0,6]))),N=s.lazy(()=>m(()=>import("./page-finance-CkOQ9tSH.js").then(e=>e.P),__vite__mapDeps([12,1,2,3,4,5,0,6]))),C=s.lazy(()=>m(()=>import("./page-finance-CkOQ9tSH.js").then(e=>e.E),__vite__mapDeps([12,1,2,3,4,5,0,6]))),V=s.lazy(()=>m(()=>import("./page-finance-CkOQ9tSH.js").then(e=>e.R),__vite__mapDeps([12,1,2,3,4,5,0,6]))),M=s.lazy(()=>m(()=>import("./page-finance-CkOQ9tSH.js").then(e=>e.S),__vite__mapDeps([12,1,2,3,4,5,0,6])));function B(){const{theme:e,toggle:s}=E(),{toggle:n}=I();return t.jsxs("header",{className:"header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{children:"ProcureX Inventory"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx("button",{className:"btn-secondary",onClick:s,title:`Switch to ${"dark"===e?"light":"dark"} mode`,children:"dark"===e?"ðŸŒ™":"â˜€ï¸"}),t.jsx("button",{className:"btn-secondary",onClick:n,title:"Open AI Assistant",children:"ðŸ¤–"})]})]})}function q(){return t.jsxs("div",{className:"app",children:[t.jsxs("aside",{className:"sidebar",children:[t.jsx("div",{className:"brand",children:"ProcureX"}),t.jsxs("nav",{children:[t.jsx(o,{to:"/",children:"Dashboard"}),t.jsx(o,{to:"/inventory",children:"Inventory"}),t.jsx(o,{to:"/suppliers",children:"Suppliers"}),t.jsx(o,{to:"/marketplace",children:"Marketplace"}),t.jsx(o,{to:"/finance/smart-books",children:"ðŸ’° Smart Books"})]})]}),t.jsxs("main",{className:"main",children:[t.jsx(B,{}),t.jsx("div",{className:"content",children:t.jsx(l,{})})]}),t.jsx(S,{})]})}function F(){return t.jsx(i,{to:"/",replace:!0})}function X(){function n(){const{push:t}=function(){const t=e.useContext(y);if(!t)throw new Error("useToast must be used within ToastProvider");return t}();return s.useEffect(()=>{u((e,s="error")=>t({type:s,text:e}))},[t]),null}return t.jsxs(_,{children:[t.jsx(n,{}),t.jsx(b,{children:t.jsx(s.Suspense,{fallback:t.jsx("div",{style:{padding:16},children:"Loadingâ€¦"}),children:t.jsx(r,{children:t.jsxs(a,{element:t.jsx(q,{}),children:[t.jsx(a,{index:!0,element:t.jsx(T,{})}),t.jsx(a,{path:"inventory",element:t.jsx(w,{})}),t.jsx(a,{path:"suppliers",element:t.jsx(D,{})}),t.jsx(a,{path:"suppliers/:id",element:t.jsx(R,{})}),t.jsx(a,{path:"marketplace",element:t.jsx(A,{})}),t.jsx(a,{path:"finance/smart-books",element:t.jsx(L,{})}),t.jsx(a,{path:"finance/smart-books/banking",element:t.jsx(O,{})}),t.jsx(a,{path:"finance/smart-books/invoices",element:t.jsx(P,{})}),t.jsx(a,{path:"finance/smart-books/bills",element:t.jsx(z,{})}),t.jsx(a,{path:"finance/smart-books/payments",element:t.jsx(N,{})}),t.jsx(a,{path:"finance/smart-books/expenses",element:t.jsx(C,{})}),t.jsx(a,{path:"finance/smart-books/reports",element:t.jsx(V,{})}),t.jsx(a,{path:"finance/smart-books/settings",element:t.jsx(M,{})}),t.jsx(a,{path:"*",element:t.jsx(F,{})})]})})})})]})}const H=new g;function K(){return t.jsx(d,{client:H,children:t.jsx(p,{children:t.jsx(X,{})})})}c(document.getElementById("root")).render(t.jsx(s.StrictMode,{children:t.jsx(K,{})}));
